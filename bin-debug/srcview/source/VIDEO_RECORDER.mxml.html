<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>VIDEO_RECORDER.mxml</title>
<link rel="stylesheet" type="text/css" href="../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="MXMLComponent_Tag">&lt;mx:Application</span><span class="MXMLDefault_Text"> xmlns:mx=&quot;</span><span class="MXMLString">http://www.adobe.com/2006/mxml</span><span class="MXMLDefault_Text">&quot; layout=&quot;</span><span class="MXMLString">horizontal</span><span class="MXMLDefault_Text">&quot; creationComplete=&quot;</span><span class="ActionScriptDefault_Text">initializeIt</span><span class="ActionScriptBracket/Brace">()</span>;<span class="MXMLDefault_Text">&quot; backgroundGradientAlphas=&quot;</span><span class="MXMLString">[1.0, 1.0]</span><span class="MXMLDefault_Text">&quot; backgroundGradientColors=&quot;</span><span class="MXMLString">[#C1E7EA, #DFEAED]</span><span class="MXMLDefault_Text">&quot; color=&quot;</span><span class="MXMLString">#63A6B9</span><span class="MXMLDefault_Text">&quot; styleName=&quot;</span><span class="MXMLString">global</span><span class="MXMLDefault_Text">&quot; viewSourceURL=&quot;</span><span class="MXMLString">srcview/index.html</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;mx:Script&gt;</span>
        <span class="ActionScriptOperator">&lt;!</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CDATA</span><span class="ActionScriptBracket/Brace">[</span>

<span class="ActionScriptComment">//-------------------------------------------------------------------
</span><span class="ActionScriptComment">//   INITIALIZE:
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptDefault_Text">ObjectUtil</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">media</span>.<span class="ActionScriptDefault_Text">Video</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">media</span>.<span class="ActionScriptDefault_Text">Camera</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">media</span>.<span class="ActionScriptDefault_Text">Microphone</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">SliderEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">net</span>.<span class="ActionScriptDefault_Text">URLLoader</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">net</span>.<span class="ActionScriptDefault_Text">URLRequest</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">net</span>.<span class="ActionScriptDefault_Text">URLRequestMethod</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">net</span>.<span class="ActionScriptDefault_Text">URLLoaderDataFormat</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">net</span>.<span class="ActionScriptDefault_Text">URLVariables</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">controls</span>.<span class="ActionScriptDefault_Text">Menu</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">MenuEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">controls</span>.<span class="ActionScriptOperator">*</span>;
            
            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vid</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Video</span>;
            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nixTime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">server</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;rtmp://platypo.us/oflaDemo&quot;</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">recording</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">date</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Date</span>;

            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cam</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Camera</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mic</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Microphone</span>; 
            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">connection</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">NetConnection</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">testConnect</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">NetConnection</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">callCount</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">stream</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">NetStream</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hiddenStream</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">NetStream</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">startBufferLength</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span> 2; <span class="ActionScriptComment">//keep this in the range 2-4+
</span>            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xpandedBufferLength</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 15;  <span class="ActionScriptComment">//arbitrarily highnc = new NetConnection();
</span>            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bandwidth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fps</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vidQuality</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">camWidth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">camHeight</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>;
            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">blurFilter</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">BlurFilter</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">filterArray</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;
    
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">delay</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 100;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">repeat</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 0;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">timer</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Timer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Timer</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">delay</span>,<span class="ActionScriptDefault_Text">repeat</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">activityTimer</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Timer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Timer</span><span class="ActionScriptBracket/Brace">(</span>2,0<span class="ActionScriptBracket/Brace">)</span>;

            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">client</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">connClient</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">connClient2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">()</span>;


            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">seconds</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">minutes</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">secondStr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">minuteStr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">time</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hour</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>; 
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>;
            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">BWisSet</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isPlaying</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isPaused</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isRecording</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isScrubbed</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isDeleted</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">recordingDone</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">onScrubTime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 0;
            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">info</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span>;

            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">request</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLRequest</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">loader</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">URLLoader</span>;
            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">huid</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;

<span class="ActionScriptComment">//----------requestComplete()----------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">requestComplete</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">evt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">//loader = URLLoader(evt.target);
</span>
                <span class="ActionScriptComment">//if (evt.target.error == true){
</span>                <span class="ActionScriptComment">//    setStatus(&quot;Server Error&quot;);
</span>                <span class="ActionScriptComment">//}
</span>                <span class="ActionScriptComment">//else{
</span>                    <span class="ActionScriptComment">//setStatus(evt.target.data);
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">evt</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;deleted&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptComment">//loader = new URLLoader();
</span>                    <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Deleted.&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptComment">//isDeleted = true;
</span>                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">evt</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">==</span><span class="ActionScriptString">&quot;saved&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Recording saved.&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Operation Failed&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                  
            <span class="ActionScriptBracket/Brace">}</span>



<span class="ActionScriptComment">//----------initializeIt()-------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initializeIt</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Connecting to server...&quot;</span><span class="ActionScriptBracket/Brace">)</span>;            
                <span class="ActionScriptDefault_Text">connection</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">NetConnection</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">BWisSet</span> <span class="ActionScriptBracket/Brace">){</span>
                
                    <span class="ActionScriptReserved">try</span> <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">bandwidthCheck</span><span class="ActionScriptBracket/Brace">()</span>;                
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">catch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">err</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ArgumentError</span><span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Argument Error&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>                    
                    <span class="ActionScriptComment">//connection.objectEncoding = ObjectEncoding.AMF0;
</span>                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">connection</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">NetConnection</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptComment">//connection.objectEncoding = ObjectEncoding.AMF0;
</span>                    <span class="ActionScriptDefault_Text">connection</span>.<span class="ActionScriptDefault_Text">connect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">server</span>,<span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptComment">//connection.connect(server);
</span>                
                <span class="ActionScriptDefault_Text">connection</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;netStatus&quot;</span>, <span class="ActionScriptDefault_Text">on_connect_status</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">connection</span>.<span class="ActionScriptDefault_Text">client</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">connClient</span>;
                
                <span class="ActionScriptDefault_Text">connClient2</span>.<span class="ActionScriptDefault_Text">BWDone</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">onBWDone2</span>;
                <span class="ActionScriptDefault_Text">connection</span>.<span class="ActionScriptDefault_Text">client</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">connClient2</span>;
                
                <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">CLICK</span>, <span class="ActionScriptDefault_Text">recHandler</span> <span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">CLICK</span>, <span class="ActionScriptDefault_Text">playHandler</span> <span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">reset_button</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MouseEvent</span>.<span class="ActionScriptDefault_Text">CLICK</span>, <span class="ActionScriptDefault_Text">resetHandler</span> <span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">connection</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">syncErrorEvent</span>.<span class="ActionScriptDefault_Text">ASYNC_ERROR</span>, <span class="ActionScriptDefault_Text">onAsyncError</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">connection</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SecurityErrorEvent</span>.<span class="ActionScriptDefault_Text">SECURITY_ERROR</span>, <span class="ActionScriptDefault_Text">onSecurityError</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">TimerEvent</span>.<span class="ActionScriptDefault_Text">TIMER</span>, <span class="ActionScriptDefault_Text">updateTimer</span> <span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptComment">//activityTimer.addEventListener( TimerEvent.TIMER, checkActivity); 
</span>            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">bandwidthCheck</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">testConnect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">NetConnection</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptComment">//testConnect.objectEncoding = ObjectEncoding.AMF0;
</span>                <span class="ActionScriptDefault_Text">connClient</span>.<span class="ActionScriptDefault_Text">onBWCheck</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">onBWCheck</span>;
                <span class="ActionScriptDefault_Text">connClient</span>.<span class="ActionScriptDefault_Text">onBWDone</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">onBWDone</span>;
                <span class="ActionScriptDefault_Text">testConnect</span>.<span class="ActionScriptDefault_Text">client</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">connClient</span>;                
                <span class="ActionScriptDefault_Text">testConnect</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">syncErrorEvent</span>.<span class="ActionScriptDefault_Text">ASYNC_ERROR</span>, <span class="ActionScriptDefault_Text">onAsyncError</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">testConnect</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">NetStatusEvent</span>.<span class="ActionScriptDefault_Text">NET_STATUS</span>, <span class="ActionScriptDefault_Text">onBWconnectStatus</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">testConnect</span>.<span class="ActionScriptDefault_Text">connect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;rtmp://platypo.us/bwcheck&quot;</span>, <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
                
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onBWconnectStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">NetStatusEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">info</span>.<span class="ActionScriptDefault_Text">code</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">switch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">info</span>.<span class="ActionScriptDefault_Text">code</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetConnection.Connect.Closed&quot;</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Connection closed: Bandwidth Check&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                           <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetConnection.Connect.Success&quot;</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;You&apos;ve successfully connected to: &quot;</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">testConnect</span>.<span class="ActionScriptDefault_Text">uri</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                  <span class="ActionScriptBracket/Brace">}</span>    
            <span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptComment">//----------selectCourse()-------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">selectCourse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MenuEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">courseMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">label</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">courseMenu</span>,<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">&quot;Course&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Student List&quot;</span>;
                    <span class="ActionScriptDefault_Text">studentList</span>.<span class="ActionScriptDefault_Text">url</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;http://platypo.us/video/studentList.php?course=&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">label</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">studentList</span>.<span class="ActionScriptDefault_Text">send</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            

<span class="ActionScriptComment">//----------selectStudent()------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">selectStudent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MenuEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">courseMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">&quot;Course&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">label</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">huid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">huid</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Student List&quot;</span>;
                <span class="ActionScriptBracket/Brace">}</span>    
            <span class="ActionScriptBracket/Brace">}</span>



<span class="ActionScriptComment">//----------clearPop()-----------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clearPop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptComment">//Alert.show(e.target.toString());
</span>                
                <span class="ActionScriptReserved">switch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">target</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">courseMenu</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Course&quot;</span>;
                        <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Student List&quot;</span>;
                        <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">studentMenu</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Student List&quot;</span>;
                        <span class="ActionScriptReserved">break</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>




<span class="ActionScriptComment">//----------on_connect_status()--------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">on_connect_status</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">NetStatusEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                       <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">info</span>.<span class="ActionScriptDefault_Text">code</span><span class="ActionScriptBracket/Brace">)</span>;
                   <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">info</span>.<span class="ActionScriptDefault_Text">code</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>
                       <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetConnection.Connect.Success&quot;</span><span class="ActionScriptOperator">:</span>
                           <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;You&apos;ve connected successfully&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                           <span class="ActionScriptDefault_Text">stream</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">NetStream</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">connection</span><span class="ActionScriptBracket/Brace">)</span>;
                           <span class="ActionScriptComment">//stream.bufferTime = 3;                           
</span>                           <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">client</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">client</span>;
                           <span class="ActionScriptDefault_Text">client</span>.<span class="ActionScriptDefault_Text">onMetaData</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">on_metadata</span>;
                           <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;netStatus&quot;</span>, <span class="ActionScriptDefault_Text">on_stream_status</span><span class="ActionScriptBracket/Brace">)</span>;
                           <span class="ActionScriptComment">//stream.addEventListener(NetStatusEvent.NET_STATUS, handleVideoStatus);                           
</span>                           <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">()</span>;
                           <span class="ActionScriptReserved">break</span>;               
                       <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetConnection.Connect.Failed&quot;</span><span class="ActionScriptOperator">:</span>
                       <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetConnection.Connect.Rejected&quot;</span><span class="ActionScriptOperator">:</span>
                           <span class="ActionScripttrace">trace</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Oops! the connection was rejected&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                           <span class="ActionScriptReserved">break</span>;
                   <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            

<span class="ActionScriptComment">//----------on_stream_status()---------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">on_stream_status</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">NetStatusEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">info</span>.<span class="ActionScriptDefault_Text">code</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">info</span>.<span class="ActionScriptDefault_Text">code</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetStream.Buffer.Full&quot;</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptComment">//trace(&quot;new buffer: &quot;+xpandedBufferLength);
</span>                        <span class="ActionScriptComment">//stream.bufferTime = xpandedBufferLength;
</span>                    <span class="ActionScriptReserved">break</span>;
            
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetStream.Buffer.Empty&quot;</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptComment">//trace(&quot;reset buffer: &quot;+startBufferLength);
</span>                        <span class="ActionScriptComment">//stream.bufferTime = startBufferLength;
</span>                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetStream.Publish.BadName&quot;</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Please check the name of the publishing stream&quot;</span> <span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetStream.Play.Stop&quot;</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;The stream has finished playing&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">on_complete</span><span class="ActionScriptBracket/Brace">()</span>;                        
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetStream.Play.StreamNotFound&quot;</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;The server could not find the stream you specified&quot;</span><span class="ActionScriptBracket/Brace">)</span>; 
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetStream.InvalidArg&quot;</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Invalid Argument&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetStream.Play.NoSupportedTrackFound&quot;</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;NetStream.Play.StreamNotFound&quot;</span><span class="ActionScriptOperator">:</span>
                           <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;The Server could not find the specified file&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptReserved">break</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
                
            <span class="ActionScriptComment">/*private function handleVideoStatus(infoObject:Object){

                switch (infoObject.code) {
                    case &quot;NetStream.Buffer.Full&quot;:
                        stream.bufferTime = xpandedBufferLength;
                    break;
            
                    case &quot;NetStream.Buffer.Empty&quot;:
                        stream.bufferTime = startBufferLength;
                    break;
            
                    case &quot;NetStream.Play.Start&quot;:
                        // the video has started playing, do something here
                    break;
            
                    case &quot;NetStream.Play.Stop&quot; :
                        // the video has stopped playing (finished)
                    break;

                }
            }*/</span>
                
<span class="ActionScriptComment">//-------------------------------------------------------------------
</span><span class="ActionScriptComment">//    VIDEO STREAM EVENT HANDLERS
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>                
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onBWDone</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">kbitDown</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">deltaDown</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">deltaTime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">latency</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;onBWDone: kbitDown:&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">kbitDown</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot; deltaDown:&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">deltaDown</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot; deltaTime:&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">deltaTime</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot; latency:&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">latency</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">testConnect</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">BWisSet</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">bandwidth</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">kbitDown</span>;
                <span class="ActionScriptDefault_Text">connection</span>.<span class="ActionScriptDefault_Text">connect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">server</span>,<span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;                
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onBWDone2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">kbitDown</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">deltaDown</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">deltaTime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">latency</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;onBWDone: kbitDown:&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">kbitDown</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot; deltaDown:&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">deltaDown</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot; deltaTime:&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">deltaTime</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot; latency:&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">latency</span><span class="ActionScriptBracket/Brace">)</span>;            
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onBWCheck</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">latency</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;BWCheck&quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">callCount</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">callCount</span>;                
            <span class="ActionScriptBracket/Brace">}</span>  
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onAsyncError</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">AsyncErrorEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;AsyncError: &quot;</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">text</span><span class="ActionScriptBracket/Brace">)</span>;    
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onSecurityError</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;SecurityError&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">on_metadata</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">infoObject</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">vid</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">infoObject</span>.<span class="ActionScriptDefault_Text">width</span>;
                <span class="ActionScriptDefault_Text">vid</span>.<span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">infoObject</span>.<span class="ActionScriptDefault_Text">height</span>;
                <span class="ActionScriptDefault_Text">duration</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">infoObject</span>.<span class="ActionScriptDefault_Text">duration</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">infoObject</span>.<span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">on_cuepoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">infoObject</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> 
            <span class="ActionScriptBracket/Brace">{</span> 
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">key</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>; 
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">key</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">infoObject</span><span class="ActionScriptBracket/Brace">)</span> 
                <span class="ActionScriptBracket/Brace">{</span> 
                    <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">key</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">&quot;: &quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">infoObject</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">key</span><span class="ActionScriptBracket/Brace">])</span>; 
                <span class="ActionScriptBracket/Brace">}</span> 
            <span class="ActionScriptBracket/Brace">}</span>



<span class="ActionScriptComment">//----------on_play_status()-----------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">on_play_status</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">infoObject</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">infoObject</span>.<span class="ActionScriptDefault_Text">code</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;NetStream.Play.Complete&quot;</span><span class="ActionScriptBracket/Brace">){</span>                    
                        <span class="ActionScriptDefault_Text">on_complete</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
            <span class="ActionScriptBracket/Brace">}</span>


            
<span class="ActionScriptComment">//----------on_complete()--------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------            
</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">on_complete</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">time</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">duration</span> <span class="ActionScriptOperator">-</span>2<span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">stop</span><span class="ActionScriptBracket/Brace">()</span>;    
                    <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;End of video.&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Play&quot;</span>;
                    <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">isPlaying</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">isRecording</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">isScrubbed</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">checkNative</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">StatusEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">code</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Camera.Unmuted&quot;</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">vid</span>.<span class="ActionScriptDefault_Text">attachCamera</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cam</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptComment">//activityTimer.start();
</span>                    <span class="ActionScriptComment">//trace(e.code); 
</span>                    <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Camera Native Resolution: &quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">e</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">&gt;=</span> 480 <span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptComment">//camWidth = 720;
</span>                        <span class="ActionScriptComment">//camHeight = 540;
</span>                        <span class="ActionScriptDefault_Text">camWidth</span> <span class="ActionScriptOperator">=</span> 480;
                        <span class="ActionScriptDefault_Text">camHeight</span> <span class="ActionScriptOperator">=</span> 360;        
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">&gt;=</span> 320 <span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptComment">//camWidth = 640;
</span>                        <span class="ActionScriptComment">//camHeight = 480;
</span>                        <span class="ActionScriptDefault_Text">camWidth</span> <span class="ActionScriptOperator">=</span> 480;
                        <span class="ActionScriptDefault_Text">camHeight</span> <span class="ActionScriptOperator">=</span> 360;                        
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">&gt;=</span> 160 <span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptDefault_Text">camWidth</span> <span class="ActionScriptOperator">=</span> 480;
                        <span class="ActionScriptDefault_Text">camHeight</span> <span class="ActionScriptOperator">=</span> 360;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">camWidth</span> <span class="ActionScriptOperator">=</span> 320;
                        <span class="ActionScriptDefault_Text">camHeight</span> <span class="ActionScriptOperator">=</span> 240;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptComment">//vid.width = camWidth;
</span>                <span class="ActionScriptComment">//vid.height = camHeight;
</span>                <span class="ActionScriptDefault_Text">cameraAdjust</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cameraSetup</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptDefault_Text">cam</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Camera</span>.<span class="ActionScriptDefault_Text">getCamera</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cam</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">StatusEvent</span>.<span class="ActionScriptDefault_Text">STATUS</span>,<span class="ActionScriptDefault_Text">checkNative</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">muted</span> <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">Security</span>.<span class="ActionScriptDefault_Text">showSettings</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SecurityPanel</span>.<span class="ActionScriptDefault_Text">PRIVACY</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptComment">//cam.setMotionLevel(30);
</span>            <span class="ActionScriptBracket/Brace">}</span>
            
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cameraAdjust</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>    
            
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bandwidth</span><span class="ActionScriptOperator">&gt;</span>4500<span class="ActionScriptBracket/Brace">){</span>                        
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setMode</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">camWidth</span>, <span class="ActionScriptDefault_Text">camHeight</span>, 30<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setQuality</span><span class="ActionScriptBracket/Brace">(</span>0, 90<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setKeyFrameInterval</span><span class="ActionScriptBracket/Brace">(</span>4<span class="ActionScriptBracket/Brace">)</span>;                     
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bandwidth</span><span class="ActionScriptOperator">&gt;</span>3500<span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setMode</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">camWidth</span>, <span class="ActionScriptDefault_Text">camHeight</span>, 24<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setQuality</span><span class="ActionScriptBracket/Brace">(</span>0,90<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setKeyFrameInterval</span><span class="ActionScriptBracket/Brace">(</span>4<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bandwidth</span><span class="ActionScriptOperator">&gt;</span>2000<span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setMode</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">camWidth</span>, <span class="ActionScriptDefault_Text">camHeight</span>, 15<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setQuality</span><span class="ActionScriptBracket/Brace">(</span>0, 90<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setKeyFrameInterval</span><span class="ActionScriptBracket/Brace">(</span>4<span class="ActionScriptBracket/Brace">)</span>;    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bandwidth</span><span class="ActionScriptOperator">&gt;</span>1500<span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setMode</span><span class="ActionScriptBracket/Brace">(</span>420, 315, 15<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setQuality</span><span class="ActionScriptBracket/Brace">(</span>0, 90<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setKeyFrameInterval</span><span class="ActionScriptBracket/Brace">(</span>4<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bandwidth</span><span class="ActionScriptOperator">&gt;</span>700<span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setMode</span><span class="ActionScriptBracket/Brace">(</span>420, 315, 15<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setQuality</span><span class="ActionScriptBracket/Brace">(</span>0, 90<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setKeyFrameInterval</span><span class="ActionScriptBracket/Brace">(</span>4<span class="ActionScriptBracket/Brace">)</span>;    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bandwidth</span><span class="ActionScriptOperator">&lt;</span>500<span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setMode</span><span class="ActionScriptBracket/Brace">(</span>320, 240, 15<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setQuality</span><span class="ActionScriptBracket/Brace">(</span>0, 90<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setKeyFrameInterval</span><span class="ActionScriptBracket/Brace">(</span>5<span class="ActionScriptBracket/Brace">)</span>;                
                <span class="ActionScriptBracket/Brace">}</span>    
                <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">setLoopback</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Bandwidth: &quot;</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">bandwidth</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Framerate: &quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">fps</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Width: &quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;    Height: &quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">cam</span>.<span class="ActionScriptDefault_Text">height</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptComment">/*private function checkActivity(e:TimerEvent):void{            
                
                if ( cam.activityLevel &gt; 50 ){
                    blurFilter = new BlurFilter(2,2,3);
                    filterArray = new Array();
                    filterArray.push(blurFilter);
                    //vid.filters = filterArray;
                    
                    if( activityTimer.currentCount%2 == 0 ){
                        vid.blendMode = &quot;layer&quot;;
                        vid.filters = filterArray;
                    }
                    else{
                        vid.blendMode = &quot;normal&quot;;
                    }
                    
                }
                else{
                    //vid.blendMode = &quot;normal&quot;;
                    blurFilter = new BlurFilter(0,0,3);
                    filterArray = new Array();
                    filterArray.push(blurFilter);
                    vid.filters = filterArray;
                    vid.visible = true;
                }
            }*/</span>
            
            
<span class="ActionScriptComment">//----------init()---------------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span> <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Initializing camera&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptComment">//stream.setBufferTime(2);
</span>                
                <span class="ActionScriptDefault_Text">cam</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Camera</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">mic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Microphone</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">vid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Video</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">cameraSetup</span><span class="ActionScriptBracket/Brace">()</span>;

                <span class="ActionScriptDefault_Text">vid</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">uic</span>.<span class="ActionScriptDefault_Text">width</span>;
                <span class="ActionScriptDefault_Text">vid</span>.<span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">uic</span>.<span class="ActionScriptDefault_Text">height</span>;                
                
                <span class="ActionScriptDefault_Text">mic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Microphone</span>.<span class="ActionScriptDefault_Text">getMicrophone</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">mic</span>.<span class="ActionScriptDefault_Text">setSilenceLevel</span><span class="ActionScriptBracket/Brace">(</span>0<span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptComment">//mic.setLoopBack(true);
</span>                <span class="ActionScriptDefault_Text">mic</span>.<span class="ActionScriptDefault_Text">rate</span> <span class="ActionScriptOperator">=</span> 44;
            
                
                <span class="ActionScriptDefault_Text">uic</span>.<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vid</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">recordingDone</span> <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Ready.&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Recording saved.&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">isPlaying</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">isRecording</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Play&quot;</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">isDeleted</span> <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">enabled</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Record&quot;</span>;
                <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">enabled</span>;
                <span class="ActionScriptDefault_Text">reset_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Reset&quot;</span>;
                <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">timer_txt</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot; 0:00&quot;</span>;
                <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">=</span> 0;    
                <span class="ActionScriptDefault_Text">isScrubbed</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptComment">//scrubber.alpha = 0.3;
</span>
                <span class="ActionScriptComment">//courseMenu.listData = null;
</span>                <span class="ActionScriptComment">//studentMenu.listData = null;
</span>                <span class="ActionScriptDefault_Text">courseMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Course&quot;</span>;
                <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Student List&quot;</span>;
                <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">courseList</span>.<span class="ActionScriptDefault_Text">send</span><span class="ActionScriptBracket/Brace">()</span>;                
            <span class="ActionScriptBracket/Brace">}</span>
            
            
            
<span class="ActionScriptComment">//-------------------------------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">recHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">recClip</span><span class="ActionScriptBracket/Brace">()</span>; <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">playHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">playClip</span><span class="ActionScriptBracket/Brace">()</span>; <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resetHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">()</span>; <span class="ActionScriptBracket/Brace">}</span>
            

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">checkRecordSetting</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">courseMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Course&quot;</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">&quot;Student List&quot;</span> <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">true</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">generateMeta</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">//uic.removeChild(vid);
</span>                <span class="ActionScriptDefault_Text">hiddenStream</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">NetStream</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">connection</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">hiddenStream</span>.<span class="ActionScriptDefault_Text">client</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">client</span>;
                <span class="ActionScriptDefault_Text">client</span>.<span class="ActionScriptDefault_Text">onMetaData</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">on_metaKill</span>;
                <span class="ActionScriptDefault_Text">hiddenStream</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">recording</span><span class="ActionScriptBracket/Brace">)</span>;                
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">on_metaKill</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">infoObject</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">hiddenStream</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">recordingDone</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            
            <span class="ActionScriptBracket/Brace">}</span>
            
<span class="ActionScriptComment">//----------recClip()------------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------                
</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">recClip</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">readyToRecord</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">checkRecordSetting</span><span class="ActionScriptBracket/Brace">()</span>; 
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">readyToRecord</span> <span class="ActionScriptBracket/Brace">){</span>  
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">isRecording</span><span class="ActionScriptBracket/Brace">){</span>            
                        <span class="ActionScriptDefault_Text">vid</span>.<span class="ActionScriptDefault_Text">attachCamera</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cam</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">attachAudio</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mic</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">attachCamera</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cam</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">date</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Date</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">nixTime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">date</span>.<span class="ActionScriptDefault_Text">getTime</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">/</span>1000<span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">recording</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">nixTime</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">publish</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">recording</span>, <span class="ActionScriptString">&quot;record&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Recording...&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Stop&quot;</span>;
                        <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">styleName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;record&quot;</span>;
                        <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">alpha</span> <span class="ActionScriptOperator">=</span> 0.3;
                        <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">=</span> 0;
                        <span class="ActionScriptDefault_Text">isRecording</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">reset_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Cancel&quot;</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Stopped.&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">stop</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Record&quot;</span>;
                        <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">styleName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;recordOff&quot;</span>;
                        <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">enabled</span>;
                        <span class="ActionScriptDefault_Text">isRecording</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">isDeleted</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">=</span> 0;
                        <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">alpha</span> <span class="ActionScriptOperator">=</span> 1;
                        <span class="ActionScriptDefault_Text">reset_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Reset&quot;</span>;
                        
                        <span class="ActionScriptDefault_Text">generateMeta</span><span class="ActionScriptBracket/Brace">()</span>;
                        
                        <span class="ActionScriptComment">/*var metaData:Object = new Object(); 
                        metaData.title = recording+&quot;flv&quot;; 
                        //metaData.width = 400; 
                        //metaData.height = 200; 
                        stream.send(&quot;@setDataFrame&quot;, &quot;onMetaData&quot;, metaData);
                        */</span>
                        
                        <span class="ActionScriptDefault_Text">updateDatabase</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">huid</span>,<span class="ActionScriptDefault_Text">recording</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptComment">//courseMenu.label = &quot;Course&quot;;
</span>                        <span class="ActionScriptDefault_Text">studentMenu</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Student List&quot;</span>;                                        
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">Alert</span>.<span class="ActionScriptDefault_Text">show</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Please verify that the Course and Student information are set.&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>



<span class="ActionScriptComment">//----------playClip()-----------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">playClip</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">isPlaying</span> <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">vid</span>.<span class="ActionScriptDefault_Text">attachNetStream</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">stream</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">seek</span><span class="ActionScriptBracket/Brace">(</span>0<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">recording</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">client</span>.<span class="ActionScriptDefault_Text">onPlayStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">on_play_status</span>;
                    <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Playing...&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Pause&quot;</span>;
                    <span class="ActionScriptDefault_Text">isPlaying</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">enabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">alpha</span> <span class="ActionScriptOperator">=</span> 1.0;
                    <span class="ActionScriptDefault_Text">recordingDone</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                                    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">togglePause</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptComment">//stream.seek(stream.time);                        
</span>                        <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">isPlaying</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Playing...&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Pause&quot;</span>;            
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">togglePause</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">stop</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">isPlaying</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Paused.&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Play&quot;</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>


<span class="ActionScriptComment">//----------reset()--------------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>

                
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">isRecording</span> <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                    
                    <span class="ActionScriptComment">// OPEN A NEW NETSTREAM AND RECORD NULL
</span>                    <span class="ActionScriptComment">// THIS ERASES FILE ON FMS, BUT NOT ON RED5:
</span>                    <span class="ActionScriptComment">/*
                    stream = new NetStream(connection);
                    stream.publish(recording, &quot;record&quot;);
                    stream.close();
                    */</span>
                    
                    <span class="ActionScriptComment">// ALTERNATIVELY WE COULD CALL A PHP SCRIPT TO DO THE DELETION VIA FILE OPERATIONS
</span>                    <span class="ActionScriptComment">// HOWEVER THIS INVOLVES FILE PERMISSION ISSUES.
</span>                    
                    <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">publish</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">request</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLRequest</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;http://platypo.us/video/depublish.php?delete=&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">recording</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">method</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLRequestMethod</span>.<span class="ActionScriptDefault_Text">GET</span>;
                    <span class="ActionScriptDefault_Text">loader</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLLoader</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">dataFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLLoaderDataFormat</span>.<span class="ActionScriptDefault_Text">TEXT</span>;
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span>, <span class="ActionScriptDefault_Text">requestComplete</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptComment">//loader.addEventListener(&quot;httpStatus&quot;, onHTTPStatus);
</span>                    <span class="ActionScriptComment">//loader.addEventListener(&quot;complete&quot;, requestComplete);
</span>                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">request</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">isDeleted</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptDefault_Text">record_button</span>.<span class="ActionScriptDefault_Text">styleName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;recordOff&quot;</span>;
                    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>                

                <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">stop</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">initializeIt</span><span class="ActionScriptBracket/Brace">()</span>;                                
            <span class="ActionScriptBracket/Brace">}</span>



<span class="ActionScriptComment">//----------setStatus()----------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">msg</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">status_txt</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">msg</span>;
            <span class="ActionScriptBracket/Brace">}</span>


<span class="ActionScriptComment">//----------updateTimer()--------------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateTimer</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">TimerEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                
                <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">client</span>.<span class="ActionScriptDefault_Text">onCuePoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">on_cuepoint</span>;
                <span class="ActionScriptDefault_Text">minutes</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">time</span> <span class="ActionScriptOperator">/</span> 60;
                <span class="ActionScriptDefault_Text">seconds</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">time</span> <span class="ActionScriptOperator">%</span> 60;
                <span class="ActionScriptDefault_Text">hour</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">time</span> <span class="ActionScriptOperator">/</span>3600;
                
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">seconds</span> <span class="ActionScriptOperator">&lt;</span> 10 <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">secondStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;0&quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">seconds</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">secondStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">seconds</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">minutes</span> <span class="ActionScriptOperator">&lt;</span> 10 <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">minuteStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot; &quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">minutes</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">minuteStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">minutes</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            
                    <span class="ActionScriptDefault_Text">time</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">minuteStr</span> <span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;:&quot;</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">secondStr</span>;
                    <span class="ActionScriptDefault_Text">timer_txt</span>.<span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">time</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isPlaying</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">isRecording</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">isScrubbed</span><span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">value</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">time</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span>  <span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">width</span>;    
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isScrubbed</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">true</span> <span class="ActionScriptBracket/Brace">){</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">currentCount</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">onScrubTime</span> <span class="ActionScriptOperator">+</span> 9 <span class="ActionScriptBracket/Brace">){</span>
                            <span class="ActionScriptDefault_Text">isScrubbed</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;FPS: &quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">round</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">currentFPS</span><span class="ActionScriptBracket/Brace">))</span>;
            <span class="ActionScriptBracket/Brace">}</span>


<span class="ActionScriptComment">//-------------------------------------------------------------------
</span><span class="ActionScriptComment">//    SLIDER FUNCTIONS:
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onScrub</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">SliderEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">onScrubTime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">currentCount</span>;
                <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">close</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">isScrubbed</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">isPlaying</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">recording</span>,<span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">/</span>100<span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">play_button</span>.<span class="ActionScriptDefault_Text">label</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Pause&quot;</span>;
                <span class="ActionScriptDefault_Text">setStatus</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;Playing...&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">sliderPress</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">pause</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">stop</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">isScrubbed</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">sliderRelease</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">seek</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">scrubber</span>.<span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">/</span>100<span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptDefault_Text">stream</span>.<span class="ActionScriptDefault_Text">resume</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">timer</span>.<span class="ActionScriptDefault_Text">start</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptDefault_Text">isPaused</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">dataTipUpdate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">{</span>

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tipPos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">())</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tipMin</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tipPos</span><span class="ActionScriptOperator">/</span>100<span class="ActionScriptBracket/Brace">))</span><span class="ActionScriptOperator">/</span>60;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tipSec</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">duration</span><span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tipPos</span><span class="ActionScriptOperator">/</span>100<span class="ActionScriptBracket/Brace">))</span><span class="ActionScriptOperator">%</span>60;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tipMinStr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tipSecStr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tipTime</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>;
                
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tipMin</span> <span class="ActionScriptOperator">&lt;</span> 10 <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">tipMinStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot; &quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tipMin</span><span class="ActionScriptBracket/Brace">)</span>;    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">tipMinStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tipMin</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tipSec</span> <span class="ActionScriptOperator">&lt;</span> 10 <span class="ActionScriptBracket/Brace">){</span>
                    <span class="ActionScriptDefault_Text">tipSecStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;0&quot;</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tipSec</span><span class="ActionScriptBracket/Brace">)</span>;    
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">tipSecStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tipSec</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">tipTime</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tipMinStr</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;:&quot;</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">tipSecStr</span>;
                <span class="ActionScriptReserved">return</span>     <span class="ActionScriptDefault_Text">tipTime</span>;
            <span class="ActionScriptBracket/Brace">}</span>



<span class="ActionScriptComment">//----------updateDatabase()-----------------------------------------
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//-------------------------------------------------------------------
</span>            
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateDatabase</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span>, <span class="ActionScriptDefault_Text">rec</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span><span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">request</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLRequest</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;http://platypo.us/video/update.php?flv=&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">rec</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">&quot;&amp;id=&quot;</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">request</span>.<span class="ActionScriptDefault_Text">method</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLRequestMethod</span>.<span class="ActionScriptDefault_Text">GET</span>;
                    <span class="ActionScriptDefault_Text">loader</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">URLLoader</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">dataFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">URLLoaderDataFormat</span>.<span class="ActionScriptDefault_Text">TEXT</span>;
                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Event</span>.<span class="ActionScriptDefault_Text">COMPLETE</span>, <span class="ActionScriptDefault_Text">requestComplete</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptComment">//loader.addEventListener(&quot;httpStatus&quot;, onHTTPStatus);
</span>                    <span class="ActionScriptComment">//loader.addEventListener(&quot;complete&quot;, requestComplete);
</span>                    <span class="ActionScriptDefault_Text">loader</span>.<span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">request</span><span class="ActionScriptBracket/Brace">)</span>;        
            <span class="ActionScriptBracket/Brace">}</span>
            
        <span class="ActionScriptBracket/Brace">]]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/mx:Script&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;mx:Style</span><span class="MXMLDefault_Text"> source=&quot;</span><span class="MXMLString">play_button.css</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLSpecial_Tag">/&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;mx:Style</span><span class="MXMLDefault_Text"> source=&quot;</span><span class="MXMLString">pause_button.css</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLSpecial_Tag">/&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;mx:Style</span><span class="MXMLDefault_Text"> source=&quot;</span><span class="MXMLString">videoRecorder.css</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLSpecial_Tag">/&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:HTTPService</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">studentList</span><span class="MXMLDefault_Text">&quot; </span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;mx:HTTPService</span><span class="MXMLDefault_Text"> url=&quot;</span><span class="MXMLString">http://platypo.us/video/courseList.php</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">courseList</span><span class="MXMLDefault_Text">&quot; </span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;mx:VBox</span><span class="MXMLDefault_Text"> height=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:Panel</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">panel</span><span class="MXMLDefault_Text">&quot; visible=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; cornerRadius=&quot;</span><span class="MXMLString">7</span><span class="MXMLDefault_Text">&quot; borderColor=&quot;</span><span class="MXMLString">#FCFAFA</span><span class="MXMLDefault_Text">&quot; backgroundColor=&quot;</span><span class="MXMLString">#000000</span><span class="MXMLDefault_Text">&quot; title=&quot;</span><span class="MXMLString">VIDEO RECORDER v0.1</span><span class="MXMLDefault_Text">&quot; horizontalAlign=&quot;</span><span class="MXMLString">left</span><span class="MXMLDefault_Text">&quot; backgroundAlpha=&quot;</span><span class="MXMLString">1.0</span><span class="MXMLDefault_Text">&quot; layout=&quot;</span><span class="MXMLString">absolute</span><span class="MXMLDefault_Text">&quot; alpha=&quot;</span><span class="MXMLString">1.0</span><span class="MXMLDefault_Text">&quot; borderThickness=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; color=&quot;</span><span class="MXMLString">#63A6B9</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:UIComponent</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">420</span><span class="MXMLDefault_Text">&quot; height=&quot;</span><span class="MXMLString">315</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">uic</span><span class="MXMLDefault_Text">&quot; x=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; y=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; alpha=&quot;</span><span class="MXMLString">1.0</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>    
            <span class="MXMLComponent_Tag">&lt;mx:ApplicationControlBar</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">420</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[0.25, 0.25]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#CBE5EB, #CBE5EB]</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
                      <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Record</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">record_button</span><span class="MXMLDefault_Text">&quot; styleName=&quot;</span><span class="MXMLString">recordOff</span><span class="MXMLDefault_Text">&quot;  width=&quot;</span><span class="MXMLString">85</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                      <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                      <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Reset</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">reset_button</span><span class="MXMLDefault_Text">&quot; color=&quot;</span><span class="MXMLString">#437786</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">80</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/mx:ApplicationControlBar&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:ControlBar</span><span class="MXMLDefault_Text"> x=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; y=&quot;</span><span class="MXMLString">386</span><span class="MXMLDefault_Text">&quot; cornerRadius=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:Button</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Play</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">play_button</span><span class="MXMLDefault_Text">&quot;   toolTip=&quot;</span><span class="MXMLString">Play</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">80</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:Text</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">status_txt</span><span class="MXMLDefault_Text">&quot; color=&quot;</span><span class="MXMLString">#63A6B9</span><span class="MXMLDefault_Text">&quot; fontWeight=&quot;</span><span class="MXMLString">bold</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:HSlider</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">100</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">scrubber</span><span class="MXMLDefault_Text">&quot; tickColor=&quot;</span><span class="MXMLString">#a3d6e5</span><span class="MXMLDefault_Text">&quot; tickInterval=&quot;</span><span class="MXMLString">25</span><span class="MXMLDefault_Text">&quot; allowTrackClick=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; liveDragging=&quot;</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">&quot; minimum=&quot;</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">&quot; maximum=&quot;</span><span class="MXMLString">100</span><span class="MXMLDefault_Text">&quot; thumbPress=&quot;</span><span class="ActionScriptDefault_Text">sliderPress</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot; thumbRelease=&quot;</span><span class="ActionScriptDefault_Text">sliderRelease</span><span class="ActionScriptBracket/Brace">()</span><span class="MXMLDefault_Text">&quot;
                dataTipFormatFunction=&quot;</span><span class="MXMLString">dataTipUpdate</span><span class="MXMLDefault_Text">&quot; showTrackHighlight=&quot;</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">&quot; change=&quot;</span><span class="ActionScriptDefault_Text">onScrub</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[1.0,1.0]</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#A3D6E5</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">&lt;mx:Spacer width=&quot;5&quot;/&gt;</span><span class="MXMLComment">--&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:Text</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">timer_txt</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">50</span><span class="MXMLDefault_Text">&quot; text=&quot;</span><span class="MXMLString"> 0:00</span><span class="MXMLDefault_Text">&quot; styleName=&quot;</span><span class="MXMLString">timer</span><span class="MXMLDefault_Text">&quot; </span><span class="MXMLComponent_Tag">/&gt;</span>
                
               <span class="MXMLComponent_Tag">&lt;/mx:ControlBar&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:Panel&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:Spacer</span><span class="MXMLDefault_Text"> height=&quot;</span><span class="MXMLString">15</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:ApplicationControlBar</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">440</span><span class="MXMLDefault_Text">&quot; alpha=&quot;</span><span class="MXMLString">1.0</span><span class="MXMLDefault_Text">&quot; fillAlphas=&quot;</span><span class="MXMLString">[0.6, 0.4]</span><span class="MXMLDefault_Text">&quot; fillColors=&quot;</span><span class="MXMLString">[#FCFCFC, #B1C3C2]</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:PopUpMenuButton</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Course</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">courseMenu</span><span class="MXMLDefault_Text">&quot; dataProvider=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">courseList</span>.<span class="ActionScriptDefault_Text">lastResult</span>.<span class="ActionScriptDefault_Text">courseList</span>.<span class="ActionScriptDefault_Text">course</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; itemClick=&quot;</span><span class="ActionScriptDefault_Text">selectCourse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span>;<span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">150</span><span class="MXMLDefault_Text">&quot; labelPlacement=&quot;</span><span class="MXMLString">left</span><span class="MXMLDefault_Text">&quot; themeColor=&quot;</span><span class="MXMLString">#63A6B9</span><span class="MXMLDefault_Text">&quot; toolTip=&quot;</span><span class="MXMLString">Select Course</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">clearPop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:PopUpMenuButton</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Student List</span><span class="MXMLDefault_Text">&quot; id=&quot;</span><span class="MXMLString">studentMenu</span><span class="MXMLDefault_Text">&quot; dataProvider=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">studentList</span>.<span class="ActionScriptDefault_Text">lastResult</span>.<span class="ActionScriptDefault_Text">studentList</span>.<span class="ActionScriptDefault_Text">student</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; itemClick=&quot;</span><span class="ActionScriptDefault_Text">selectStudent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span>;<span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">150</span><span class="MXMLDefault_Text">&quot; labelPlacement=&quot;</span><span class="MXMLString">left</span><span class="MXMLDefault_Text">&quot;  themeColor=&quot;</span><span class="MXMLString">#63A6B9</span><span class="MXMLDefault_Text">&quot; toolTip=&quot;</span><span class="MXMLString">Select Student</span><span class="MXMLDefault_Text">&quot; click=&quot;</span><span class="ActionScriptDefault_Text">clearPop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:ApplicationControlBar&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:VBox&gt;</span>




<span class="MXMLComponent_Tag">&lt;/mx:Application&gt;</span></pre></body>
</html>
